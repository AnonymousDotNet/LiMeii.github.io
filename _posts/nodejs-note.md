## nodejs 社区：https://cnodejs.org/

## nodejs 高并发到底说的是什么意思？
- 先来看下传统服务器对并发请求的处理方式：
  - 传统服务器是通过多线程来解决多并发的问题。
  - 高并发的意思是：海量用户同时访问，或者是说同时发API request。
  - 客户端发API请求到服务器端，会先建立一个socket connection，在这个请求没有结束之前，处理这个connection的线程是被阻塞的，干不了其他什么事情。当前客户端没有其他请求的时候，这个socket connection就闲着等着客户端给他发请求。当有多个用户同时发请求的时候，服务器会为每个不同的客户端起一个socket connection线程（弊端是每个线程会占用内存，而且某个客户端请求不多的时候，对应的socket connection线程就一直闲着），这就是**传统服务器I/O是阻塞的**。 一般服务器会有socket connection上限，所以海量用户同时访问服务器的时候，就会有性能问题。

- 什么是进程：进程是值运行中的应用程序，每个进程都有自己独立的地址空间（内存空间），目前的操作系统都是支持多进程
- 什么是线程：进程表示自愿分配的基本单位，而线程是进程中运行的最小单位，即执行处理机调度的基本单位，一个程序只有一个进程，一个进程里有多个线程。



## nodejs 跨平台是什么意思？
nodejs和底层操作系统之间有一个```libuv```的库，```libuv```本身就是一个跨平台的C库，现在的理解是可以把js代码编译成对应的操作系统可识别代码运行，所以说nodejs是跨平台的。这也是为什么nodejs可以在服务器端运行。

nodejs部分是由JavaScript编写的，底层还是由C/C++实现的。在javascript中调用的犯法，最终都会通过process.binding传递到C/C++里面，最终由他们来执行真正的操作。nodejs及这样与操作系统进行互动。

## V8引擎在nodejs中，是一个什么样的角色？


## Libuv的作用和角色是什么？


## C-ares的作用和角色是什么？


## 当一个http request 发出去以后，建立socket connection到后续response发回来，具体发生了什么？
- HTTP协议：主要是规定了客户端和服务器之间的通信格式
- TCP：基于连接的协议，在正式收发数据前，必须和对钱建立可靠的连接，TCP提供超时重发，丢弃重复数据，检验数据，流量控制等功能。有三次握手四次挥手。HTTP是基于TCP的socket连接。
- UDP：是一个无连接的简单的面向数据包的运输层协议，UDP不提供可靠性，它只是把应用程序传给IO层的数据报发送出去，但是不能保证它们能到达目的地，由于UDP在传输数据前不用在客户端和服务器端建立连接，没有超时重发机制，所以传输数度很快。
- Socket：是对TCP或者UDP协议的封装和实现，socket不是协议，差不多每一种语言都实现了对TCP和UDP封装和实现的Socket代码库，方便开发程序员使用。
- IP：负责把数据分成小的数据包，然后通过网关 路由等网络设备把数据发到接收方。

- 永久链接：每一个socket connection都需要三次握手，这样资源浪费性能慢，所有有个永久链接，在http1.1以后默认连接都是永久链接。但并不是真的说永久不关闭连接，大多数的服务器都设置了一段时间内没有请求（比如30s）会主动关闭这个链接。

- 关系：HTTP基于TCP，HTTP请求需要使用Socket TCP来完成。

- 一次HTTP请求过程：域名解析 -> 建立TCP连接 -> 发起http请求发送请求报文 -> 服务器端相应http请求 -> 关闭TCP连接


